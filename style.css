/* =========================================
   Glass Skin UI — Cleaned & Enhanced CSS
   (Consolidates duplicates, adds variables,
   and applies consistent glass effects)
========================================= */

/* Google Font */
@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap');

/* ---------- Tokens ---------- */
:root{
  /* Colors */
  --bg: #f7f9fc;
  --fg: #454f5b;
  --primary: #3b82f6;
  --glass-bg: 255,255,255;         /* base for rgba() */
  --glass-alpha: .18;              /* base glass opacity */
  --glass-stroke: rgba(255,255,255,.55);
  --glass-shadow: 0 10px 30px rgba(31,38,135,.18);
  --chip-bg: rgba(255,255,255,.5);
  --chip-stroke: rgba(255,255,255,.7);
  --chip-fg: #1f2937;
  --muted: #4b5563;

  /* Radii / Blur */
  --radius-xl: 24px;
  --radius-lg: 16px;
  --radius-md: 12px;
  --blur-strong: 18px;
  --blur-med: 12px;

  /* Layout */
  --container-max: 950px;
  --pad: 15px;

  /* Mobile Layout Variables - EDIT HERE */
  --keyboard-space: 40vh; /* Khoảng trống dưới: 40% chiều cao màn hình */
}

/* ---------- Reset & Base ---------- */
*{margin:0;padding:0;box-sizing:border-box}
html,body{
  font-family:'Nunito',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background: var(--bg);
  color: var(--fg);
  display:flex;justify-content:center;align-items:center;
  padding:var(--pad);
}

/* ---------- Container (Glass with graceful fallback) ---------- */
.container{
  width:100%;max-width:var(--container-max);
  border-radius:var(--radius-xl);
  background: rgba(var(--glass-bg), calc(var(--glass-alpha) + .07));
  border:1px solid var(--glass-stroke);
  box-shadow: var(--glass-shadow);
  overflow:hidden;
  background-image:
    linear-gradient(135deg, rgba(255,255,255,.28), rgba(255,255,255,.14) 40%, rgba(255,255,255,.10));
  -webkit-backdrop-filter: blur(var(--blur-strong));
  backdrop-filter: blur(var(--blur-strong));
}

@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  .container{
    background:#ffffff;
    border:1px solid #e6eaf0;
    box-shadow: 0 10px 30px rgba(0,0,0,.08);
  }
}

/* ---------- Welcome Page ---------- */
.welcome-page{padding:40px 20px;text-align:center}
.logo-container{margin-bottom:30px}
.logo{max-width:150px;height:auto}
.search-container{display:flex;justify-content:center;gap:10px}
#welcomeProductCode,
.search-container-result input{
  width:100%;max-width:300px;padding:12px 18px;
  font-size:1rem;outline:none;border-radius:25px;
  border:1px solid rgba(255,255,255,.6);
  background: rgba(var(--glass-bg), .35);
  -webkit-backdrop-filter: blur(var(--blur-med)); backdrop-filter: blur(var(--blur-med));
  color:#1f2937;
}
#welcomeProductCode::placeholder,
.search-container-result input::placeholder{color:var(--muted)}
.search-button{
  padding:12px 25px;border:none;border-radius:25px;cursor:pointer;
  font-size:1rem;font-weight:700;color:#fff;background: var(--primary);
  box-shadow:0 8px 20px rgba(59,130,246,.25);
  transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
}
.search-button:hover{transform:translateY(-1px);box-shadow:0 12px 28px rgba(59,130,246,.3)}
.search-button:active{transform:translateY(0);opacity:.95}

/* ---------- Result Page (Desktop) ---------- */
@media (min-width: 769px) {
    .result-page{
        display: grid;
        grid-template-columns: 1fr minmax(300px, 380px);
        gap: 24px;
        width: 100%;
        padding: 24px;
        align-items: start;
    }

    .image-background{
        grid-column: 1 / 2;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(var(--glass-bg), .22);
        border: 1px solid var(--glass-stroke);
        border-radius: var(--radius-lg);
        -webkit-backdrop-filter: blur(var(--blur-med));
        backdrop-filter: blur(var(--blur-med));
        padding: 20px;
    }

    .product-image-desktop{
        width: 100%;
        height: auto;
        max-height: 70vh;
        object-fit: contain;
        border-radius: var(--radius-lg);
    }

    .content-overlay{
        grid-column: 2 / 3;
    }

    .floating-info-box{
        display: flex;
        flex-direction: column;
        gap: 16px;
        background: rgba(var(--glass-bg), .25);
        border: 1px solid var(--glass-stroke);
        -webkit-backdrop-filter: blur(var(--blur-med));
        backdrop-filter: blur(var(--blur-med));
        border-radius: var(--radius-lg);
        box-shadow: var(--glass-shadow);
        padding: 20px;
    }

    #product-location{font-weight:600;color:#111827}
    #product-price{font-weight:800;color:#111827;font-size:1.25rem}
    #size-list{list-style:none;margin:0;padding:0;display:flex;flex-wrap:wrap;gap:10px}
    #size-list li{
      display:flex;align-items:center;justify-content:center;gap:6px;
      padding:8px 12px;font-size:.9rem;font-weight:700;
      background: var(--chip-bg);
      border:1px solid var(--chip-stroke);
      border-radius:10px;color:var(--chip-fg)
    }
    #size-list .sep{opacity:.6;color:var(--muted)}
    #size-list .qty{color: var(--primary)}
}


/* ========================================
   MOBILE LAYOUT (YÊU CẦU CỦA BẠN)
======================================== */
@media (max-width: 768px){
  html, body{
      padding:0;
      touch-action: none; /* Ngăn cử chỉ cuộn */
  }
  .container{
      height: 100vh; /* Luôn chiếm toàn bộ chiều cao */
      width: 100vw;  /* Luôn chiếm toàn bộ chiều rộng */
      border-radius:0;
      box-shadow:none;
      padding: 10px;
      display: flex;
      align-items: flex-start; /* Căn nội dung lên trên cùng */
  }

  /* Khung nội dung chính (chiếm 60% phía trên) */
  .result-page{
    display:grid;
    /* Chia lưới: 3 phần cho ảnh, 1 phần cho thông tin */
    grid-template-columns: 3fr 1fr;
    grid-template-areas: "image content";
    gap:10px;
    width: 100%;
    height: calc(100vh - var(--keyboard-space) - 20px); /* 60% cao, trừ đi padding */
  }

  .image-background{
    grid-area: image;
    padding:8px;
    border-radius:12px;
    background: rgba(var(--glass-bg), .18);
    border:1px solid rgba(255,255,255,.55);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .product-image-desktop{
    display:block;
    width: 100%;
    height: 100%;
    object-fit:contain;
    max-height: 100%;
  }

  .content-overlay{
    grid-area: content;
    display: flex; /* Cho phép co giãn nội dung bên trong */
  }

  .floating-info-box{
    padding:10px;
    border-radius:12px;
    background: rgba(var(--glass-bg), .28);
    -webkit-backdrop-filter: blur(var(--blur-strong));
    backdrop-filter: blur(var(--blur-strong));
    border:1px solid rgba(255,255,255,.55);
    box-shadow: 0 8px 24px rgba(31,38,135,.18);
    /* Sắp xếp nội dung theo chiều dọc */
    display:flex;
    flex-direction:column;
    gap:8px;
    width: 100%;
  }

  .search-container-result{flex-shrink: 0;} /* Không co nhỏ ô tìm kiếm */
  .search-container-result input{font-size:.9rem; padding: 8px 12px;}
  .search-container-result button{font-size:.9rem; padding: 8px 12px;}

  #product-location, #product-price{font-weight:700;color:#111827; font-size: 0.9rem;}
  #product-price{font-size: 1rem;}

  #size-list{
      list-style:none; margin:0; padding:0;
      display:flex; flex-direction:column; /* Xếp size theo chiều dọc */
      gap:5px;
      overflow-y: auto; /* Thêm cuộn nếu danh sách size quá dài */
  }
  #size-list li{
      padding: 5px; font-size:.8rem; border-radius:6px;
      flex-shrink: 0;
  }
}

/* =================================
   KHÓA VIEWPORT & TẮT CUỘN
================================= */
html, body {
  overflow: hidden !important;
  height: 100%;
  width: 100%;
  position: fixed;
  top: 0; left: 0;
  overscroll-behavior: none;
}
:focus-visible{outline:2px dashed var(--primary);outline-offset:2px}
@media (prefers-reduced-motion: reduce){
  *{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;scroll-behavior:auto !important}
}
.image-background::after{content:none !important;}